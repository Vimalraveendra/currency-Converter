(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{26:function(e,t,n){e.exports=n(43)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),u=n.n(c),o=(n(31),n(32),n(33),n(6)),s=n(18),l=n(19),i=n(24),E=n(20),m=n(25),d=(n(34),n(35),n(36),n(3)),p={SET_TOGGLE_HIDDEN:"SET_TOGGLE_HIDDEN"},h=n(9),v=n(10),N=Object(v.a)([function(e){return e.converterlist}],(function(e){return e.currencyList})),f=Object(v.a)([N],(function(e){return e.reduce((function(e,t){return e+t.result}),0).toFixed(2)})),y=Object(v.a)([N],(function(e){return Math.max.apply(Math,Object(h.a)(e.map((function(e){return"PLN"===e.convertedTo?e.result.toFixed(2):null}))))})),C={ADD_CURRENCY:"ADD_CURRENCY",CLEAR_CURRENCY:"CLEAR_CURRENCY",REMOVE_CURRENCY:"REMOVE_CURRENCY",HANDLE_INPUT:"HANDLE_INPUT",HANDLE_CHANGE:"HANDLE_CHANGE",HANDLE_SWAP:"HANDLE_SWAP"},b=Object(d.b)((function(e){return{hidden:e.currency.hidden,currencyList:N(e),currencySum:f(e),currencyLarge:y(e)}}),(function(e){return{toggleSum:function(){return e({type:p.SET_TOGGLE_HIDDEN})},clearCurrency:function(t){return e({type:C.CLEAR_CURRENCY,payload:t})},removeCurrency:function(t){return e(function(e){return{type:C.REMOVE_CURRENCY,payload:e}}(t))}}}))((function(e){var t=e.currencyList,n=e.clearCurrency,a=e.removeCurrency,c=e.currencySum,u=e.currencyLarge,o=e.hidden,s=e.toggleSum;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"currency-list"},r.a.createElement("ul",{className:"currency-item"},t.map((function(e){var t=e.id,n=e.convertedTo,c=e.result;return r.a.createElement("li",{className:"item",key:t},r.a.createElement("span",{className:"left-push"},n),r.a.createElement("span",{className:"right-push"},c),r.a.createElement("span",{className:"remove-item",onClick:function(){return a(t)}}," ","\u274c"))})))),o?null:r.a.createElement("h5",{className:"sum"},"Sum:",c,r.a.createElement("span",{className:"largest"},"Largest:",u)),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{type:"button",className:"btn danger",onClick:function(){return n(t)}},"Clear All"),r.a.createElement("button",{type:"button",className:"btn",onClick:function(){s()}},"Sum")))})),R=n(7),S=n.n(R),_=Object(d.b)(null,(function(e){return{addCurrency:function(t){return e(function(e){return{type:C.ADD_CURRENCY,payload:e}}(t))}}}))((function(e){var t=e.currencies,n=e.amount,a=e.convertedTo,c=e.base,u=e.handleChange,o=e.handleInput,s=e.addCurrency,l=e.handleSwap,i=e.result;e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-item"},r.a.createElement("input",{className:"input",type:"number",value:n,onChange:o}),r.a.createElement("select",{className:"options",name:"base",value:c,onChange:u},r.a.createElement("option",{className:"option"},c))),r.a.createElement("div",{className:"input-item"},r.a.createElement("input",{className:"input",type:"number",value:i,onChange:o}),r.a.createElement("select",{className:"options  ",name:"convertedTo",value:a,onChange:u},t.map((function(e,t){return r.a.createElement("option",{key:t},e)})))),r.a.createElement("div",{className:"input-item"},r.a.createElement("button",{type:"submit",className:"btn",onClick:function(){return s({base:c,id:S()(),convertedTo:a,amount:Number(n),result:Number(i)})}},"Add Item"),r.a.createElement("h1",{className:"swap",onClick:l},"\u2193\u2191")),r.a.createElement(b,null))})),T={REQUEST_RATES_PENDING:"REQUEST_RATES_PENDING",REQUEST_RATES_SUCCESS:"REQUEST_RATES_SUCCESS",REQUEST_RATES_FAILED:"REQUEST_RATES_FAILED"},g=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={currencies:[],id:S()(),amount:1,base:"EUR",result:"",date:"",convertedTo:"PLN",rates:{}},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(o.a)({},a,r),n.getCurrency)},n.handleInput=function(e){n.setState({amount:e.target.value},n.getCurrency)},n.handleSwap=function(){var e=n.state,t=e.convertedTo,a=e.base;n.setState({convertedTo:a,base:t},n.getCurrency)},n.getCurrency=function(){var e=n.state,t=e.amount,a=e.base,r=e.convertedTo,c=e.currencies;t!==isNaN&&fetch("https://api.exchangeratesapi.io/latest?base=".concat(a)).then((function(e){return e.json()})).then((function(e){var a=(e.rates[r]*t).toFixed(2),u=e.rates;for(var o in u)c.push(o);var s=e.date;n.setState({result:a,date:s,rates:u})})).catch((function(e){console.log("Oops",e.message)}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getCurrency()}},{key:"render",value:function(){var e=this.state,t=e.currencies,n=e.amount,a=e.base,c=e.result,u=e.date,o=e.convertedTo,s=this.handleChange,l=this.handleInput,i=this.handleSwap;return r.a.createElement("div",{className:"converter"},r.a.createElement("div",{className:"converter-content"},r.a.createElement("h1",{className:"title"},"Currency Converter "),r.a.createElement("h3",{className:"subtitle"},n,a," equals:",r.a.createElement("span",null,c," ",o)),r.a.createElement("h3",{className:"date"},u),r.a.createElement(_,{currencies:t,amount:n,base:a,result:c,convertedTo:o,handleChange:s,handleInput:l,handleSwap:i})))}}]),t}(r.a.Component),A=Object(d.b)((function(e){var t=e.converterlist,n=t.amount,a=t.base,r=t.currencies,c=t.convertedTo;return{amount:n,base:a,date:t.date,currencies:r,convertedTo:c,id:t.id}}),(function(e){return{requestCurrency:function(){return e((function(e){e({type:T.REQUEST_RATES_PENDING}),fetch("https://api.exchangeratesapi.io/latest?base=EUR").then((function(e){return e.json()})).then((function(t){return e({type:T.converterActionTypesREQUEST_RATES_SUCCESS,payload:t})})).catch((function(t){return e({type:T.REQUEST_RATES_FAILED,payload:t})}))}))}}}))(g),L=function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement(A,null))};var O=function(){return r.a.createElement("div",null,r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=n(4),U=n(22),j=n.n(U),I=n(1),w={hidden:!0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.SET_TOGGLE_HIDDEN:return Object(I.a)({},e,{hidden:!e.hidden});default:return e}},G={currencyList:[],currencies:[],amount:1,fields:{},id:S()(),base:"EUR",result:"",date:"",convertedTo:"PLN",rates:{}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case C.ADD_CURRENCY:return Object(I.a)({},e,{currencyList:[].concat(Object(h.a)(e.currencyList),[t.payload])});case C.CLEAR_CURRENCY:return Object(I.a)({},e,{currencyList:e.currencyList.filter((function(e,n){return e.id!==t.payload[n].id}))});case C.REMOVE_CURRENCY:return Object(I.a)({},e,{currencyList:e.currencyList.filter((function(e){return e.id!==t.payload}))});case C.HANDLE_INPUT:return Object(I.a)({},e,{amount:t.payload});case C.HANDLE_CHANGE:return Object(I.a)({},e,{fields:Object(I.a)({},e.fields,Object(o.a)({},t.name,t.value))});case C.HANDLE_SWAP:return Object(I.a)({},e,{amount:t.payload});default:return e}},P=Object(D.c)({currency:H,converterlist:k}),Y=n(23),Q=[j.a,Y.a],F=Object(D.d)(P,D.a.apply(void 0,Q));u.a.render(r.a.createElement(d.a,{store:F},r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.73c2d204.chunk.js.map